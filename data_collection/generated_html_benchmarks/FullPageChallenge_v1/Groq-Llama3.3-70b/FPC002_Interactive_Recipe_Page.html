<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chocolate Lava Cakes Recipe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for timer display and star rating */
        .timer-display {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .star-rating {
            display: inline-block;
            margin: 0 5px;
        }
        
        .star-rating input[type="radio"] {
            display: none;
        }
        
        .star-rating label {
            font-size: 24px;
            color: #ccc;
            cursor: pointer;
        }
        
        .star-rating input[type="radio"]:checked + label {
            color: #ffd700;
        }
        
        .star-rating input[type="radio"]:hover + label, .star-rating label:hover ~ label {
            color: #ffd700;
        }
        
        .checked {
            text-decoration: line-through;
        }
    </style>
</head>
<body>
    <header class="bg-gray-100 py-4">
        <h1 data-testid="recipe-title" class="text-3xl font-bold text-center">Chocolate Lava Cakes</h1>
    </header>
    <main class="container mx-auto p-4 pt-6 md:p-6 lg:p-12 xl:p-24">
        <article>
            <img src="chocolate-lava-cake.jpg" alt="A delicious chocolate lava cake" class="w-full h-64 object-cover mb-4">
            <p class="text-lg mb-4">Serves 4. Prep time: 20 minutes. Cook time: 12-15 minutes.</p>
            <section data-testid="ingredients-list" class="mb-8">
                <h2 class="text-2xl font-bold mb-2">Ingredients:</h2>
                <ul>
                    <li>
                        <input type="checkbox" id="ingredient-1" aria-checked="false">
                        <label for="ingredient-1" class="ml-2">2 large eggs</label>
                    </li>
                    <li>
                        <input type="checkbox" id="ingredient-2" aria-checked="false">
                        <label for="ingredient-2" class="ml-2">1 1/2 cups all-purpose flour</label>
                    </li>
                    <li>
                        <input type="checkbox" id="ingredient-3" aria-checked="false">
                        <label for="ingredient-3" class="ml-2">1 cup granulated sugar</label>
                    </li>
                    <!-- Add more ingredients here -->
                </ul>
            </section>
            <section class="mb-8">
                <h2 class="text-2xl font-bold mb-2">Instructions:</h2>
                <ol>
                    <li>
                        Preheat oven to 425°F (220°C). <button data-testid="timer-btn-step1" class="bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded">Start timer (12-15 minutes)</button>
                    </li>
                    <li>
                        In a medium bowl, whisk together flour, sugar, and salt. <button data-testid="timer-btn-step2" class="bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded">Start timer (5 minutes)</button>
                    </li>
                    <!-- Add more steps here -->
                </ol>
                <div data-testid="recipe-timer-display" class="timer-display"></div>
            </section>
            <aside class="mb-8">
                <h2 class="text-2xl font-bold mb-2">Nutrition Information:</h2>
                <table class="w-full border-collapse border border-gray-400">
                    <thead>
                        <tr>
                            <th class="border border-gray-400 p-2">Calories</th>
                            <th class="border border-gray-400 p-2">Protein</th>
                            <th class="border border-gray-400 p-2">Fat</th>
                            <th class="border border-gray-400 p-2">Carbs</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="border border-gray-400 p-2">320</td>
                            <td class="border border-gray-400 p-2">4g</td>
                            <td class="border border-gray-400 p-2">12g</td>
                            <td class="border border-gray-400 p-2">40g</td>
                        </tr>
                    </tbody>
                </table>
            </aside>
            <section data-testid="review-form" class="mb-8">
                <h2 class="text-2xl font-bold mb-2">Leave a review:</h2>
                <form>
                    <label for="name" class="block text-lg mb-2">Name:</label>
                    <input type="text" id="name" class="block w-full p-2 mb-4 border border-gray-400">
                    <label for="rating" class="block text-lg mb-2">Rating:</label>
                    <div class="star-rating">
                        <input type="radio" id="rating-1" name="rating" value="1">
                        <label for="rating-1">&#9733;</label>
                        <input type="radio" id="rating-2" name="rating" value="2">
                        <label for="rating-2">&#9733;</label>
                        <input type="radio" id="rating-3" name="rating" value="3">
                        <label for="rating-3">&#9733;</label>
                        <input type="radio" id="rating-4" name="rating" value="4">
                        <label for="rating-4">&#9733;</label>
                        <input type="radio" id="rating-5" name="rating" value="5">
                        <label for="rating-5">&#9733;</label>
                    </div>
                    <label for="comment" class="block text-lg mb-2">Comment:</label>
                    <textarea id="comment" class="block w-full p-2 mb-4 border border-gray-400"></textarea>
                    <button class="bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded">Submit review</button>
                </form>
            </section>
        </article>
    </main>
    <footer class="bg-gray-100 py-4 text-center">
        &copy; 2023 Chocolate Lava Cakes Recipe
    </footer>
    <script>
        // Get all checkboxes and add event listeners
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        checkboxes.forEach((checkbox) => {
            checkbox.addEventListener('change', () => {
                const label = checkbox.nextElementSibling;
                if (checkbox.checked) {
                    label.classList.add('checked');
                    checkbox.setAttribute('aria-checked', 'true');
                } else {
                    label.classList.remove('checked');
                    checkbox.setAttribute('aria-checked', 'false');
                }
            });
        });
        
        // Get all timer buttons and add event listeners
        const timerButtons = document.querySelectorAll('[data-testid^="timer-btn-step"]');
        timerButtons.forEach((button) => {
            button.addEventListener('click', () => {
                const timerDisplay = document.querySelector('[data-testid="recipe-timer-display"]');
                const time = parseInt(button.textContent.match(/\d+/)[0]);
                let seconds = time * 60;
                const intervalId = setInterval(() => {
                    seconds--;
                    const minutes = Math.floor(seconds / 60);
                    const remainingSeconds = seconds % 60;
                    timerDisplay.textContent = `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
                    if (seconds === 0) {
                        clearInterval(intervalId);
                        alert('Timer finished!');
                    }
                }, 1000);
            });
        });
    </script>
</body>
</html>